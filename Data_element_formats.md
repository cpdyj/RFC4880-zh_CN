# 3. 数据元素格式
本节介绍OpenPGP使用的数据元素。

## 3.1 标量数字
标量数字是无符号的，并且总是以大端格式存储。 使用n [k]来表示被解释的第k个八位字节，两个八位字节标量的值是（（n [0] << 8）+ n [1]）。 四字节标量的值是（（n [0] << 24）+（n [1] << 16）+（n [2] << 8）+ n [3]）。

## 3.2 多精度整数
多精度整数（也称为MPI）是用于保存大整数的无符号整数，例如用于加密计算的整数。  
一个MPI由两部分组成：一个两字节标量，即MPI的长度（以位为单位），后跟一串包含实际整数的字节。  
这些八位组形成一个大端数字; 一个大端的数字可以通过在适当的长度前加上一个MPI来制作成MPI。

例子：（所有的数字都是十六进制的）

> 字符串[00 01 01]形成值为1的MPI。字符串[00 09 01 FF]形成值为511的MPI。  
> 其他规则：  
> * MPI的大小是（（MPI.length + 7）/ 8）+ 2个八比特组。  
> * MPI的长度字段描述从其最重要的非零位开始的长度。 因此，MPI [00201]没有正确地形成。 它应该是[00 01 01]。  
> * MPI的未使用位必须为零。  
> * 还要注意，当MPI被加密时，长度是指明文MPI。 它的密文可能是格式不正确的。  

## 3.3 秘钥ID
密钥ID是标识密钥的八字节标量。 实现**不应该**假定Key ID是唯一的。 下面的“增强密钥格式”部分介绍了如何形成密钥ID。

## 3.4 文本
除非另有规定，否则文本的字符集是Unicode [ISO 10646]的UTF-8 [RFC 3629]编码。

## 3.5 时间字段
时间字段是一个无符号的四字节数字，包含自1970年1月1日午夜以来经过的秒数。

## 3.6 密钥环
密钥环是文件或数据库中一个或多个密钥的集合。  
传统上，密钥环只是密钥的顺序列表，但也可以是任何合适的数据库。讨论密钥环或其他数据库的细节超出了本标准的范围。

## 3.7 String-to-Key (S2K) 规范
String-to-Key（S2K）标识符用于将密码字符串转换为对称密钥加密/解密密钥。它们目前用于两个地方：加密私钥环中私钥的秘密部分，并将密码转换为加密密钥以获得对称加密的消息。




[RFC 3629]: https://tools.ietf.org/html/rfc3629 "\"UTF-8, a transformation format of ISO 10646\""
[ISO 10646]: https://tools.ietf.org/html/rfc4880#ref-ISO10646
